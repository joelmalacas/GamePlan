<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>GamePlan - Reset Password</title>
        <link rel="stylesheet" href="CSS/forgot.css" />
        <link rel="icon" href="../Media/GamePlan-Formation.svg" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="background-overlay"></div>

        <div class="container">
            <div class="forgot-card">
                <div class="logo-section">
                    <div class="logo">
                        <i class="fas fa-gamepad"></i>
                        <h1>GamePlan</h1>
                    </div>
                    <p class="subtitle">Reset your password</p>
                </div>

                <!-- Step 1: Email Input -->
                <div class="step-container" id="emailStep">
                    <div class="step-header">
                        <h2>Enter your email address</h2>
                        <p>
                            We'll send you a verification code to reset your
                            password
                        </p>
                    </div>

                    <form class="forgot-form" id="emailForm">
                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-envelope input-icon"></i>
                                <input
                                    type="email"
                                    id="email"
                                    name="email"
                                    required
                                />
                                <label for="email">Email Address</label>
                                <div class="input-underline"></div>
                            </div>
                        </div>

                        <button
                            type="submit"
                            class="action-btn"
                            id="sendCodeBtn"
                        >
                            <span class="btn-text">Send Verification Code</span>
                            <div class="btn-loader"></div>
                        </button>
                    </form>
                </div>

                <!-- Step 2: Code Verification -->
                <div class="step-container hidden" id="codeStep">
                    <div class="step-header">
                        <h2>Enter verification code</h2>
                        <p>
                            We sent a 6-digit code to
                            <span id="emailDisplay"></span>
                        </p>
                        <div class="resend-info">
                            <span>Didn't receive the code? </span>
                            <button class="resend-btn" id="resendBtn">
                                Resend code
                            </button>
                            <span class="countdown" id="countdown"></span>
                        </div>
                    </div>

                    <form class="forgot-form" id="codeForm">
                        <div class="form-group">
                            <div class="code-input-container">
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="0"
                                />
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="1"
                                />
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="2"
                                />
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="3"
                                />
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="4"
                                />
                                <input
                                    type="text"
                                    class="code-input"
                                    maxlength="1"
                                    data-index="5"
                                />
                            </div>
                        </div>

                        <button
                            type="submit"
                            class="action-btn"
                            id="verifyCodeBtn"
                            disabled
                        >
                            <span class="btn-text">Verify Code</span>
                            <div class="btn-loader"></div>
                        </button>

                        <button
                            type="button"
                            class="back-btn"
                            id="backToEmailBtn"
                        >
                            <i class="fas fa-arrow-left"></i>
                            Back to email
                        </button>
                    </form>
                </div>

                <!-- Step 3: New Password -->
                <div class="step-container hidden" id="passwordStep">
                    <div class="step-header">
                        <h2>Create new password</h2>
                        <p>Your password must meet the security requirements</p>
                    </div>

                    <form class="forgot-form" id="passwordForm">
                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-lock input-icon"></i>
                                <input
                                    type="password"
                                    id="newPassword"
                                    name="newPassword"
                                    required
                                />
                                <label for="newPassword">New Password</label>
                                <i
                                    class="fas fa-eye toggle-password"
                                    onclick="togglePassword('newPassword')"
                                ></i>
                                <div class="input-underline"></div>
                            </div>
                            <div
                                class="password-requirements"
                                id="passwordRequirements"
                            >
                                <div class="requirement" id="lengthReq">
                                    <i class="fas fa-times"></i>
                                    <span>At least 8 characters</span>
                                </div>
                                <div class="requirement" id="uppercaseReq">
                                    <i class="fas fa-times"></i>
                                    <span>At least 1 uppercase letter</span>
                                </div>
                                <div class="requirement" id="numberReq">
                                    <i class="fas fa-times"></i>
                                    <span>At least 1 number</span>
                                </div>
                                <div class="requirement" id="specialReq">
                                    <i class="fas fa-times"></i>
                                    <span>At least 1 special character</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="input-container">
                                <i class="fas fa-lock input-icon"></i>
                                <input
                                    type="password"
                                    id="confirmPassword"
                                    name="confirmPassword"
                                    required
                                />
                                <label for="confirmPassword"
                                    >Confirm Password</label
                                >
                                <i
                                    class="fas fa-eye toggle-password"
                                    onclick="togglePassword('confirmPassword')"
                                ></i>
                                <div class="input-underline"></div>
                            </div>
                            <div class="password-match" id="passwordMatch">
                                <i class="fas fa-times"></i>
                                <span>Passwords must match</span>
                            </div>
                        </div>

                        <button
                            type="submit"
                            class="action-btn"
                            id="resetPasswordBtn"
                            disabled
                        >
                            <span class="btn-text">Reset Password</span>
                            <div class="btn-loader"></div>
                        </button>
                    </form>
                </div>

                <!-- Success Message -->
                <div class="step-container hidden" id="successStep">
                    <div class="success-content">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>Password reset successful!</h2>
                        <p>
                            Your password has been reset successfully. You can
                            now sign in with your new password.
                        </p>
                        <a href="login.html" class="action-btn"
                            >Go to Sign In</a
                        >
                    </div>
                </div>

                <div class="login-link">
                    <p>
                        Remember your password?
                        <a href="login.html">Back to Sign In</a>
                    </p>
                </div>
            </div>

            <div class="floating-elements">
                <div class="floating-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="floating-icon"><i class="fas fa-key"></i></div>
                <div class="floating-icon"><i class="fas fa-lock"></i></div>
                <div class="floating-icon">
                    <i class="fas fa-user-shield"></i>
                </div>
            </div>
        </div>

        <script src="JS/forgot.js"></script>
    </body>
</html>
